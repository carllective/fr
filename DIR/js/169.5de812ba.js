"use strict";(self["webpackChunkcarllective"]=self["webpackChunkcarllective"]||[]).push([[169],{3169:function(t,e,s){s.r(e),s.d(e,{default:function(){return h}});var o=function(){var t=this,e=t._self._c;return e("div",{class:"fr"===t.lang?"fr":"en",attrs:{id:"meets"}},[e("div",{staticClass:"title-section"},[e("h1",{staticClass:"header"},[t._v(t._s(t.$header))]),e("h2",{staticClass:"pre-title"},[t._v(t._s(t.$smalltext))]),e("div",{staticClass:"today"},[e("div",{staticClass:"small",attrs:{id:"currentLocation"},on:{click:function(e){t.location()===t.locationCTA&&t.requestLocation()}}},[e("h3",[e("img",{staticClass:"icon",attrs:{alt:"Location icon",src:s(4090)}}),e("span",{domProps:{innerHTML:t._s(t.location())}})])]),e("div",{staticClass:"small",attrs:{id:"currentDate"}},[e("h3",[e("img",{staticClass:"icon",attrs:{alt:"Calendar icon",src:s(1375)}}),e("div",{staticClass:"date"},[e("span",[e("h3",[e("b",[t._v(t._s(t.todaysDate("month").slice(0,3))+". "+t._s(t.todaysDate("day")))])])])])])])]),e("div",{staticClass:"select"},[e("div",{class:"dropdown-wrapper "+(t.your_location?"":"disabled")},[e("p",{staticClass:"label"},[t._v(t._s(t.$sort_CTA))]),e("div",{staticClass:"dropdown"},[e("p",{staticClass:"mainoption",on:{click:t.showDropdownHandler}},[t._v(t._s(Number.isInteger(t.activeFilter)?"fr"===t.lang?`Rayon de ${t.activeFilter} km`:`Within ${t.activeFilter} km`:t.activeFilter)+" "),e("span",{class:"chevron "+(t.showDropdown?"up":"down")},[t._v("▼")])]),e("ul",{style:t.showDropdown?"height: auto;":"height: 0%;"},[e("li",{on:{click:function(e){return t.sortBy("Date")}}},[t._v("Date")]),e("li",{on:{click:function(e){return t.sortBy("Distance")}}},[t._v("Distance")]),e("li",{on:{click:function(e){return t.sortBy(10)}}},[t._v(t._s("fr"===t.lang?"Rayon de 10 km":"Within 10 km"))]),e("li",{on:{click:function(e){return t.sortBy(20)}}},[t._v(t._s("fr"===t.lang?"Rayon de 20 km":"Within 20 km"))]),e("li",{on:{click:function(e){return t.sortBy(50)}}},[t._v(t._s("fr"===t.lang?"Rayon de 50 km":"Within 50 km"))])])])]),e("div",{staticClass:"dropdown-wrapper"},[e("p",{staticClass:"provincetitle label"},[t._v("Province")]),e("div",{staticClass:"dropdown"},[e("p",{staticClass:"mainoption",on:{click:t.showProvDropdownHandler}},[t._v(t._s("fr"===t.lang?t.activeProvince.fr:t.activeProvince.en)+" "),e("span",{class:"chevron "+(t.showProvDropdown?"up":"down")},[t._v("▼")])]),e("ul",{style:t.showProvDropdown?"height: auto; ":"height: 0%; "},t._l(t.provinces,(function(s,o){return e("li",{key:o,on:{click:function(e){return t.sortByProvince(s)}}},[t._v(t._s("fr"===t.lang?s.fr:s.en))])})),0)])]),e("form",{ref:"searchform",staticClass:"search",on:{submit:function(e){return e.preventDefault(),t.search.apply(null,arguments)}}},[e("p",{directives:[{name:"show",rawName:"v-show",value:"en"===t.lang,expression:"lang==='en'"}],staticClass:"label"},[t._v("Search")]),e("p",{directives:[{name:"show",rawName:"v-show",value:"fr"===t.lang,expression:"lang==='fr'"}],staticClass:"label"},[t._v("Rechercher")]),e("input",{ref:"search",staticClass:"text",attrs:{type:"text",placeholder:"en"===t.lang?"Search":"Rechercher"},on:{change:t.search}})])])]),t.meets.length?e("div",{staticClass:"meets_cards"},t._l(t.meets,(function(s,o){return e("router-link",{key:o,staticClass:"meet_card_link",attrs:{name:"meet_card_link",to:!s.url||s.Cancelled||s.Postponed?"":`/${s.url}`}},[e("div",{class:`meet_card \n      ${s.Today?"todaymeet":""} \n      ${s.Tomorrow?"tomorrowmeet":""}`,style:`background-image: url(${s.Image?s.Image[0].url:""})`},[e("div",{directives:[{name:"show",rawName:"v-show",value:s.Cancelled||s.Postponed,expression:"item.Cancelled || item.Postponed"}],staticClass:"alertmessage"},[e("h3",{class:""+(s.Cancelled?"cancelled":"postponed"),domProps:{innerHTML:t._s(s.Cancelled?"CANCELLED":"POSTPONED")}})]),e("div",{staticClass:"meet_card_inner"},[e("div",{staticClass:"title"},[s.Name?e("h2",[t._v(t._s(s.Name))]):e("h2",[t._v("Entering...")]),s.Town&&s.Province?e("h3",{staticClass:"location"},[t._v(t._s(s.Town)+", "+t._s(s.Province))]):t._e()]),e("div",{staticClass:"date"},["en"===t.lang?e("span",[s.Month&&s.Day?e("h3",{staticClass:"month"},[t._v(t._s(s.Month.slice(0,3))+". "+t._s(s.Day))]):t._e()]):"fr"===t.lang?e("span",[s.Month&&s.Day?e("h3",{staticClass:"month"},[t._v(t._s(s.Day)+" "+t._s(s.Month.slice(0,3))+".")]):t._e()]):t._e(),e("h4",{staticClass:"time"},[t._v(t._s(s.Time))])])])])])})),1):e("div",[e("p",[t._v(t._s("fr"===t.lang?"Aucun résultat.":"No Results."))])])])},i=[],r=(s(6699),s(3822)),n={name:"MeetsList",components:{},watch:{scroll(){this.$store.commit("setScrollY",window.scrollY)},meetsList:{handler(t){this.meets=t,void 0===this.activeProvince?this.$store.commit("setActiveProvince",{en:"Ontario",fr:"Ontario"}):this.$store.commit("setActiveProvince",this.activeProvince),this.sortByProvince(this.activeProvince)},deep:!0,immediate:!0}},props:{scroll:{type:Event}},computed:{...(0,r.rn)(["your_location","lang","activeFilter","activeProvince","scrollY","meetsList"])},methods:{requestLocation(){console.log("Requesting to make location API call"),this.$geoAPI.init()},todaysDate(t){return"month"===t?"fr"===this.lang?(new Date).toLocaleString("fr-FR",{month:"long"}):(new Date).toLocaleString("en-US",{month:"long"}):"day"===t?(new Date).toString().split(" ")[2]:void 0},showDropdownHandler(){this.showDropdown=!this.showDropdown,this.showDropdown&&(this.showProvDropdown=!1)},showProvDropdownHandler(){this.showProvDropdown=!this.showProvDropdown,this.showProvDropdown&&(this.showDropdown=!1)},location(){return this.your_location&&this.your_location.city?`${this.your_location.city}, ${this.your_location.state_code}, ${this.your_location.country}`:this.locationCTA},sortByProvince(t){if(this.$refs.searchform&&this.$refs.searchform.reset(),"Canada-Wide"===t.en)return this.meets=[...this.$meets],this.meets_sorted_by_province=[...this.$meets],this.showProvDropdown=!1,this.$store.commit("setActiveProvince",t),void this.sortBy(this.activeFilter);this.meets_sorted_by_province=[...this.$meets].filter((e=>e.Province===t.en)),this.meets=this.meets_sorted_by_province,this.showProvDropdown=!1,this.$store.commit("setActiveProvince",t),this.sortBy(this.activeFilter)},search(){this.$refs.search.value?this.meets=[...this.$meets].filter((t=>JSON.stringify(t).toLowerCase().includes(this.$refs.search.value.toLowerCase()))):this.sortByProvince(this.activeProvince)},sortBy(t){return this.$refs.searchform&&this.$refs.searchform.reset(),this.$store.commit("setActiveFilter",t),"Date"===t?(this.meets=this.meets_sorted_by_province,void(this.showDropdown=!1)):"Distance"===t?(this.meets=[...this.meets_sorted_by_province].sort(((t,e)=>t.DistanceFromMe-e.DistanceFromMe)),void(this.showDropdown=!1)):Number.isInteger(t)?(this.$store.commit("setActiveFilter",t),this.showDropdown=!1,void(this.meets=[...this.meets_sorted_by_province].filter((e=>e.DistanceFromMe<=t)))):void 0}},data(){return{provinces:[{en:"Alberta",fr:"Alberta"},{en:"British Columbia",fr:"Colombie-Britannique"},{en:"Manitoba",fr:"Manitoba"},{en:"New Brunswick",fr:"Nouveau-Brunswick"},{en:"Newfoundland and Labrador",fr:"Terre-Neuve-et-Labrador"},{en:"Northwest Territories",fr:"Territoires du Nord-Ouest"},{en:"Nova Scotia",fr:"Nouvelle-Écosse"},{en:"Nunavut",fr:"Nunavut"},{en:"Ontario",fr:"Ontario"},{en:"Prince Edward Island",fr:"Île-du-Prince-Édouard "},{en:"Quebec",fr:"Québec"},{en:"Saskatchewan",fr:"Saskatchewan"},{en:"Yukon",fr:"Yukon"},{en:"Canada-Wide",fr:"À travers le Canada"}],meets:this.$meets,meets_sorted_by_province:this.$meets,showDropdown:!1,showProvDropdown:!1,locationCTA:"Enable location, then click me."}},mounted(){void 0===this.activeProvince?this.$store.commit("setActiveProvince",{en:"Ontario",fr:"Ontario"}):this.$store.commit("setActiveProvince",this.activeProvince),this.sortByProvince(this.activeProvince),window.scrollTo(0,this.scrollY)}},a=n,c=s(1001),l=(0,c.Z)(a,o,i,!1,null,"f7c21292",null),h=l.exports},1375:function(t,e,s){t.exports=s.p+"img/Calendar.5999bc3e.svg"},4090:function(t,e,s){t.exports=s.p+"img/Location.076cffe1.svg"}}]);
//# sourceMappingURL=169.5de812ba.js.map